> Problem: [808. åˆ†æ±¤](https://leetcode.cn/problems/soup-servings/description/)

[TOC]

# æ€è·¯

æ¦‚çŽ‡çš„ä¹˜æ³•å’ŒåŠ æ³•é—®é¢˜ï¼šç¬¬ä¸€æ­¥æœ‰å››ç§é€‰æ‹©ï¼Œæ¯ç§çš„æ¦‚çŽ‡éƒ½æ˜¯0.25ï¼Œç¬¬äºŒæ­¥ä¹Ÿæœ‰å››ç§é€‰æ‹©ï¼Œæ¦‚çŽ‡ä¹Ÿéƒ½æ˜¯0.25â€¦â€¦å¦‚æ­¤ä¸æ–­è¿›è¡Œï¼Œç›´åˆ°è¿™ä¸¤ç¢—ç ´æ±¤åŒæ—¶è¢«åˆ†å®Œäº†ï¼Œæˆ–è€…ç¬¬ä¸€æ™šæ±¤å…ˆè¢«æŒ¥éœå®Œäº†ã€‚æ‰€æœ‰çš„åˆ†æ±¤æ³•æž„æˆäº†ä¸€é¢—å››å‰æ ‘ã€‚

ç†è§£é¢˜æ„åŽï¼Œæš´åŠ›çš„æ–¹æ³•ï¼šç”¨æ·±åº¦ä¼˜å…ˆæœç´¢éåŽ†è¿™é¢—å››å‰æ ‘ã€‚ç”±äºŽè¿™æ£µæ ‘çš„æ·±åº¦å’ŒèŠ‚ç‚¹æ•°é‡æœªçŸ¥ï¼Œæš´æœçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿéžå¸¸å¤§ï¼Œä¸å‡ºæ„å¤–åœ°ï¼Œæš´æœè¶…æ—¶äº†ã€‚ðŸ¤£

æš´åŠ›æœç´¢çš„è¿‡ç¨‹ï¼Œä¼šå¤šæ¬¡æ±‚è§£ç›¸åŒçš„å­é—®é¢˜ï¼Œè¿™æ°å¥½ç¬¦åˆåŠ¨æ€è§„åˆ’çš„ä½¿ç”¨åœºæ™¯ã€‚

æ”¹æˆåŠ¨åˆ’ï¼Œä¼˜åŒ–äº†æ—¶é—´

è®¾ dp(i,j) è¡¨ç¤ºæ±¤ A å’Œæ±¤ B åˆ†åˆ«å‰©ä¸‹ i å’Œ j ä»½æ—¶æ‰€æ±‚çš„æ¦‚çŽ‡å€¼ï¼Œå³æ±¤ A å…ˆåˆ†é…å®Œçš„æ¦‚çŽ‡ + æ±¤ A å’Œæ±¤ B åŒæ—¶åˆ†é…å®Œçš„æ¦‚çŽ‡é™¤ä»¥ 2 ã€‚ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š
dp[i][j] = (dp[i-4]][j] + dp[i - 3][j - 1] + dp[i - 2][j - 2] + dp[i - 1][j - 3]) / 4.0

åœ¨ n éžå¸¸å¤§çš„æ—¶å€™ï¼Œæ±¤ A ä¼šæœ‰å¾ˆå¤§çš„æ¦‚çŽ‡æ¯” B å…ˆåˆ†é…å®Œï¼Œæ±¤ A è¢«å…ˆå–å®Œçš„æ¦‚çŽ‡åº”è¯¥éžå¸¸æŽ¥è¿‘ 1ã€‚äº‹å®žä¸Šï¼Œå½“æˆ‘ä»¬è¿›è¡Œå®žé™…è®¡ç®—æ—¶å‘çŽ°ï¼Œå½“ nâ‰¥4475 æ—¶ï¼Œæ‰€æ±‚æ¦‚çŽ‡å·²ç»å¤§äºŽ 0.99999 äº†ï¼ˆå¯ä»¥é€šè¿‡ä¸Šé¢çš„åŠ¨æ€è§„åˆ’æ–¹æ³•æ±‚å‡ºï¼‰ï¼Œå®ƒå’Œ 1 çš„è¯¯å·®ï¼ˆæ— è®ºæ˜¯ç»å¯¹è¯¯å·®è¿˜æ˜¯ç›¸å¯¹è¯¯å·®ï¼‰éƒ½å°äºŽ 10 ^ 5
å› æ­¤åœ¨ nâ‰¥179Ã—25 æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è¾“å‡º 1 ä½œä¸ºç­”æ¡ˆå³å¯ã€‚åœ¨å…¶å®ƒçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åŠ¨æ€è§„åˆ’è®¡ç®—å‡ºç­”æ¡ˆã€‚

# Code

* []

```C

#define MAX(a, b) ((a) > (b) ? (a) : (b))

double soupServings(int n) {
     n = n = ceil((double) n / 25);
    if (n >= 179) {
        return 1.0;
    }
    double dp[n + 1][n + 1];
    dp[0][0] = 0.5;
    for (int i = 1; i <= n; i++) {
        dp[0][i] = 1.0;
        dp[i][0] = 0.0;
    }
    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= n; j++) {
            dp[i][j] = (dp[MAX(0, i - 4)][j] + dp[MAX(0, i - 3)][MAX(0, j - 1)] + dp[MAX(0, i - 2)][MAX(0, j - 2)] + dp[MAX(0, i - 1)][MAX(0, j - 3)]) / 4.0;
        }
    }
    return dp[n][n];
}

```

